<!doctype html>ï»¿
<html lang="en">ï»¿
<head>ï»¿
Â Â <meta charset="UTF-8">ï»¿
Â Â <meta name="viewport" content="width=device-width, initial-scale=1.0">ï»¿
Â Â <title>Jeev Sanjeevani - Veterinary Disease Information Portal</title>ï»¿

Â Â <!-- Core styles (from your paste, kept and slightly tuned) -->ï»¿
Â Â <style>ï»¿
Â Â Â Â :root{--primary:#667eea;--primary-dark:#5568d3;--muted:#718096;--bg-grad:linear-gradient(135deg,#667eea 0%,#764ba2 100%);}ï»¿
Â Â Â Â *{box-sizing:border-box}ï»¿
Â Â Â Â html,body{height:100%;margin:0;font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,Arial,sans-serif}ï»¿
Â Â Â Â .app-wrapper{width:100%;min-height:100%;background:var(--bg-grad);padding:28px 12px}ï»¿
Â Â Â Â .page-container{max-width:1100px;margin:0 auto;display:flex;gap:20px;align-items:flex-start;flex-wrap:wrap}ï»¿
Â Â Â Â .content-box{background:#fff;border-radius:14px;padding:28px;flex:1 1 640px;box-shadow:0 20px 60px rgba(0,0,0,0.22)}ï»¿
Â Â Â Â .sidebar{background:#fff;border-radius:14px;padding:20px;width:300px;box-shadow:0 12px 40px rgba(0,0,0,0.12)}ï»¿
Â Â Â Â .header{text-align:center;margin-bottom:14px}ï»¿
Â Â Â Â .header h1{margin:0;font-size:26px;color:#2d3748}ï»¿
Â Â Â Â .header .subtitle{color:var(--muted);font-size:14px;margin-top:6px}ï»¿

Â Â Â Â .search-container{position:relative;margin:16px 0}ï»¿
Â Â Â Â .search-container input{width:100%;padding:12px 46px 12px 12px;border-radius:12px;border:2px solid #e2e8f0;font-size:15px}ï»¿
Â Â Â Â .search-icon{position:absolute;right:12px;top:50%;transform:translateY(-50%);color:#a0aec0;font-size:18px}ï»¿

Â Â Â Â .disease-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(220px,1fr));gap:14px;margin-top:12px}ï»¿
Â Â Â Â .disease-card{background:#fff;border:2px solid #e2e8f0;border-radius:12px;padding:16px;text-align:center;cursor:pointer;transition:all .22s}ï»¿
Â Â Â Â .disease-card:hover{transform:translateY(-6px);border-color:var(--primary);box-shadow:0 10px 20px rgba(102,126,234,0.16)}ï»¿
Â Â Â Â .disease-card .icon{font-size:34px;margin-bottom:8px}ï»¿
Â Â Â Â .disease-card h3{margin:6px 0 4px 0;color:#2d3748;font-size:16px}ï»¿
Â Â Â Â .disease-card p{margin:0;color:var(--muted);font-size:13px}ï»¿

Â Â Â Â .info-section{background:#fff;border:2px solid #e2e8f0;border-radius:12px;padding:18px;margin-bottom:12px}ï»¿
Â Â Â Â .info-section h3{color:var(--primary);margin:0 0 10px 0;display:flex;align-items:center;gap:10px}ï»¿
Â Â Â Â .info-section h4{color:#2d3748;margin:12px 0 6px 0;font-size:15px}ï»¿
Â Â Â Â .info-section p, .info-section li{color:#4a5568;line-height:1.6;font-size:14px}ï»¿

Â Â Â Â .back-btn{background:#e2e8f0;color:#2d3748;padding:8px 14px;border-radius:8px;border:none;cursor:pointer;font-weight:600;margin-bottom:10px}ï»¿
Â Â Â Â .btn{display:inline-block;padding:10px 14px;border-radius:8px;border:none;background:var(--primary);color:#fff;font-weight:700;cursor:pointer}ï»¿
Â Â Â Â .btn.secondary{background:#edf2f7;color:#2d3748}ï»¿
Â Â Â Â .logo-section{text-align:center;margin-bottom:10px}ï»¿
Â Â Â Â .logo-text{font-size:40px;font-weight:800;background:var(--bg-grad);-webkit-background-clip:text;background-clip:text;color:transparent}ï»¿
Â Â Â Â .tagline{color:var(--muted);font-size:13px;font-style:italic}ï»¿

Â Â Â Â .welcome-user{background:#f0fff4;border:2px solid #9ae6b4;border-radius:8px;padding:10px 12px;color:#22543d;font-weight:700;text-align:center;margin-bottom:12px}ï»¿
Â Â Â Â .user-badge{display:inline-block;padding:4px 10px;border-radius:20px;font-size:12px;font-weight:700;margin-left:8px}ï»¿
Â Â Â Â .badge-farmer{background:#c6f6d5;color:#22543d}ï»¿
Â Â Â Â .badge-student{background:#bee3f8;color:#2c5282}ï»¿
Â Â Â Â .badge-doctor{background:#fed7d7;color:#742a2a}ï»¿

Â Â Â Â .stats-badge{display:inline-block;background:#edf2f7;color:#2d3748;padding:6px 12px;border-radius:6px;font-size:13px;font-weight:600;margin-top:8px}ï»¿

Â Â Â Â .flowchart-box{background:#f7fafc;border:2px dashed var(--primary);border-radius:8px;padding:12px;text-align:center;margin-top:10px}ï»¿

Â Â Â Â .loading{display:inline-block;width:16px;height:16px;border:3px solid rgba(255,255,255,0.3);border-radius:50%;border-top-color:white;animation:spin .8s linear infinite;margin-left:8px}ï»¿
Â Â Â Â @keyframes spin{to{transform:rotate(360deg)}}ï»¿

Â Â Â Â /* detail view */ï»¿
Â Â Â Â .disease-detail{animation:fadeIn .25s ease}ï»¿
Â Â Â Â @keyframes fadeIn{from{opacity:0;transform:translateY(8px)}to{opacity:1;transform:translateY(0)}}ï»¿

Â Â Â Â /* small screens */ï»¿
Â Â Â Â @media (max-width:900px){ï»¿
Â Â Â Â Â Â .page-container{flex-direction:column;align-items:stretch}ï»¿
Â Â Â Â Â Â .sidebar{width:100%}ï»¿
Â Â Â Â Â Â .content-box{min-width:0}ï»¿
Â Â Â Â }ï»¿

Â Â Â Â /* simple form */ï»¿
Â Â Â Â .form-group{margin-bottom:12px}ï»¿
Â Â Â Â .form-row{display:flex;gap:8px}ï»¿
Â Â Â Â .form-row .col{flex:1}ï»¿
Â Â Â Â label{display:block;font-weight:600;margin-bottom:6px;font-size:13px;color:#2d3748}ï»¿
Â Â Â Â input[type="text"], input[type="tel"], select, textarea{width:100%;padding:10px;border-radius:8px;border:1px solid #e2e8f0;font-size:14px}ï»¿
Â Â Â Â small.muted{display:block;color:#94a3b8;margin-top:6px}ï»¿

Â Â Â Â .footer-note{font-size:13px;color:#94a3b8;margin-top:10px;text-align:center}ï»¿
Â Â Â Â .top-actions{display:flex;gap:8px;flex-wrap:wrap;align-items:center;justify-content:center}ï»¿
Â Â Â Â .download-link{display:inline-block;margin-left:6px;font-size:13px;color:var(--primary);text-decoration:underline;cursor:pointer}ï»¿
Â Â </style>ï»¿
Â Â <style>@view-transition { navigation: auto; }</style>ï»¿
</head>ï»¿
<body>ï»¿
Â Â <div class="app-wrapper">ï»¿
Â Â Â Â <div class="page-container">ï»¿
Â Â Â Â Â Â <!-- Main content area -->ï»¿
Â Â Â Â Â Â <div class="content-box" id="mainContent">ï»¿
Â Â Â Â Â Â Â Â <div class="logo-section">ï»¿
Â Â Â Â Â Â Â Â Â Â <div class="logo-text">Jeev Sanjeevani</div>ï»¿
Â Â Â Â Â Â Â Â Â Â <div class="tagline">Veterinary disease information â€” quick, practical, and local</div>ï»¿
Â Â Â Â Â Â Â Â </div>ï»¿

Â Â Â Â Â Â Â Â <div id="welcomeArea" style="display:none" class="welcome-user">ï»¿
Â Â Â Â Â Â Â Â Â Â Welcome,<span id="userNameText"></span>ï»¿
Â Â Â Â Â Â Â Â Â Â <span id="userBadge" class="user-badge"></span>ï»¿
Â Â Â Â Â Â Â Â </div>ï»¿

Â Â Â Â Â Â Â Â <div class="search-container">ï»¿
Â Â Â Â Â Â Â Â Â Â <input id="searchInput" placeholder="Search disease name or clinical sign (e.g., fever, nodules, salivation)..." />ï»¿
Â Â Â Â Â Â Â Â Â Â <div class="search-icon">ğŸ”</div>ï»¿
Â Â Â Â Â Â Â Â </div>ï»¿

Â Â Â Â Â Â Â Â <div id="cardsView">ï»¿
Â Â Â Â Â Â Â Â Â Â <div class="disease-grid" id="diseaseGrid"></div>ï»¿
Â Â Â Â Â Â Â Â </div>ï»¿

Â Â Â Â Â Â Â Â <div id="detailView" style="display:none" class="disease-detail">ï»¿
Â Â Â Â Â Â Â Â Â Â <button class="back-btn" id="backBtn">â† Back to list</button>ï»¿
Â Â Â Â Â Â Â Â Â Â <div id="diseaseDetailContainer"></div>ï»¿
Â Â Â Â Â Â Â Â </div>ï»¿

Â Â Â Â Â Â Â Â <div class="footer-note">This is a local, static demo. For multi-user features, connect to Firebase or your backend.</div>ï»¿
Â Â Â Â Â Â </div>ï»¿

Â Â Â Â Â Â <!-- Sidebar -->ï»¿
Â Â Â Â Â Â <div class="sidebar">ï»¿
Â Â Â Â Â Â Â Â <div style="text-align:center;margin-bottom:8px">ï»¿
Â Â Â Â Â Â Â Â Â Â <strong style="font-size:18px;color:#2d3748">Quick Actions</strong>ï»¿
Â Â Â Â Â Â Â Â </div>ï»¿

Â Â Â Â Â Â Â Â <div class="info-section" style="margin-bottom:14px">ï»¿
Â Â Â Â Â Â Â Â Â Â <h3>Profile</h3>ï»¿
Â Â Â Â Â Â Â Â Â Â <div id="profileArea">ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â <!-- login form -->ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â <div id="loginForm">ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â Â Â <div class="form-group">ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <label for="nameInput">Name</label>ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <input id="nameInput" type="text" placeholder="Your name" />ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â Â Â </div>ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â Â Â <div class="form-group">ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <label for="phoneInput">Phone</label>ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <input id="phoneInput" type="tel" placeholder="Phone number" />ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â Â Â </div>ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â Â Â <div class="form-group">ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <label for="roleSelect">Role</label>ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <select id="roleSelect">ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <option value="farmer">Farmer</option>ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <option value="student">Student</option>ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <option value="doctor">Doctor</option>ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â </select>ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â Â Â </div>ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â Â Â <div style="display:flex;gap:8px">ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <button id="loginBtn" class="btn">Save Profile</button>ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <button id="clearBtn" class="btn secondary">Clear</button>ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â Â Â </div>ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â Â Â <small class="muted">Profile stored locally on your device only.</small>ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â </div>ï»¿

Â Â Â Â Â Â Â Â Â Â Â Â <div id="profileInfo" style="display:none">ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â Â Â <div style="font-weight:700;color:#2d3748" id="profileName"></div>ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â Â Â <div style="margin-top:6px" id="profilePhone"></div>ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â Â Â <div style="margin-top:8px" id="profileRoleBadge"></div>ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â Â Â <div style="margin-top:8px">ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <button id="logoutBtn" class="btn secondary">Logout</button>ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â Â Â </div>ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â </div>ï»¿
Â Â Â Â Â Â Â Â Â Â </div>ï»¿
Â Â Â Â Â Â Â Â </div>ï»¿

Â Â Â Â Â Â Â Â <div class="info-section">ï»¿
Â Â Â Â Â Â Â Â Â Â <h3>Stats</h3>ï»¿
Â Â Â Â Â Â Â Â Â Â <div>ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â <div>Site Visits:<strong id="visitsCount">0</strong></div>ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â <div style="margin-top:6px">Unique Diseases:<strong id="diseaseCount">0</strong></div>ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â <div style="margin-top:8px"><span id="topDisease">Top: â€”</span></div>ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â <div style="margin-top:10px" id="perDiseaseList"></div>ï»¿
Â Â Â Â Â Â Â Â Â Â </div>ï»¿
Â Â Â Â Â Â Â Â </div>ï»¿

Â Â Â Â Â Â Â Â <div class="info-section">ï»¿
Â Â Â Â Â Â Â Â Â Â <h3>Data</h3>ï»¿
Â Â Â Â Â Â Â Â Â Â <div style="display:flex;gap:8px;flex-wrap:wrap">ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â <button id="exportBtn" class="btn">Export DB (JSON)</button>ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â <button id="resetStatsBtn" class="btn secondary">Reset Stats</button>ï»¿
Â Â Â Â Â Â Â Â Â Â </div>ï»¿
Â Â Â Â Â Â Â Â Â Â <small class="muted">Download the database or reset local stats.</small>ï»¿
Â Â Â Â Â Â Â Â </div>ï»¿

Â Â Â Â Â Â Â Â <div style="text-align:center;margin-top:12px">ï»¿
Â Â Â Â Â Â Â Â Â Â <small style="color:#94a3b8">Made for vets&farmers â€¢ Local-first</small>ï»¿
Â Â Â Â Â Â Â Â </div>ï»¿
Â Â Â Â Â Â </div>ï»¿
Â Â Â Â </div>ï»¿
Â Â </div>ï»¿

Â Â <!-- Script: data + UI logic -->ï»¿
Â Â <script>ï»¿
Â Â Â Â /***** DISEASE DATABASE (editable) *****/ï»¿
Â Â Â Â const diseases = [ï»¿
Â Â Â Â Â Â {ï»¿
Â Â Â Â Â Â Â Â id: 'lumpy',ï»¿
Â Â Â Â Â Â Â Â name: 'Lumpy Skin Disease',ï»¿
Â Â Â Â Â Â Â Â icon: 'ğŸ„',ï»¿
Â Â Â Â Â Â Â Â category: 'Viral Disease',ï»¿
Â Â Â Â Â Â Â Â short: 'High fever, raised nodules on skin, milk drop',ï»¿
Â Â Â Â Â Â Â Â clinicalSigns: ['High fever','Raised nodules on skin','Lesions in mouth and nose','Swollen lymph nodes','Milk drop','Loss of appetite','Lameness'],ï»¿
Â Â Â Â Â Â Â Â prevention: ['Vaccinate regularly','Control flies and mosquitoes','Isolate sick animals','Disinfect sheds','Restrict movement in outbreaks'],ï»¿
Â Â Â Â Â Â Â Â precautions: ['Isolate sick animals for 30 days','Wash hands after handling','Report to veterinary officer'],ï»¿
Â Â Â Â Â Â Â Â herbalTreatment: ['Neem paste on nodules','Turmeric + mustard oil paste','Tulsi leaves','Aloe vera on wounds','Giloy juice'],ï»¿
Â Â Â Â Â Â Â Â definition: 'Lumpy Skin Disease (LSD) is a contagious viral disease of cattle/buffalo caused by LSDV (Capripoxvirus).',ï»¿
Â Â Â Â Â Â Â Â etiology: 'LSDV: double-stranded DNA Capripoxvirus.',ï»¿
Â Â Â Â Â Â Â Â diagnosis: {ï»¿
Â Â Â Â Â Â Â Â Â Â field: ['Skin nodules + fever','Sudden milk drop','Enlarged lymph nodes'],ï»¿
Â Â Â Â Â Â Â Â Â Â lab: ['PCR on nodule biopsy (gold standard)','ELISA (antibodies)','Histopathology (inclusion bodies)']ï»¿
Â Â Â Â Â Â Â Â },ï»¿
Â Â Â Â Â Â Â Â treatment: {ï»¿
Â Â Â Â Â Â Â Â Â Â note: 'Supportive care â€” no specific antiviral.',ï»¿
Â Â Â Â Â Â Â Â Â Â specific: ['NSAIDs (meloxicam)','Antibiotics for secondary infections','Fluid therapy','Wound care'],ï»¿
Â Â Â Â Â Â Â Â Â Â topical: ['Betadine cleaning','Antibiotic ointment','Fly repellents']ï»¿
Â Â Â Â Â Â Â Â },ï»¿
Â Â Â Â Â Â Â Â vaccination: ['Neethling strain (live attenuated)','1 ml SC, annual','Immunity in 2-3 weeks'],ï»¿
Â Â Â Â Â Â Â Â caseStudy: {ï»¿
Â Â Â Â Â Â Â Â Â Â history: 'Unvaccinated lactating cow with sudden high fever and many skin nodules, severe milk drop.',ï»¿
Â Â Â Â Â Â Â Â Â Â outcome: 'Supportive therapy given; recovery but hide scars.'ï»¿
Â Â Â Â Â Â Â Â }ï»¿
Â Â Â Â Â Â },ï»¿

Â Â Â Â Â Â // Added sample diseases for demo:ï»¿
Â Â Â Â Â Â {ï»¿
Â Â Â Â Â Â Â Â id: 'fmd',ï»¿
Â Â Â Â Â Â Â Â name: 'Foot-and-Mouth Disease (FMD)',ï»¿
Â Â Â Â Â Â Â Â icon: 'ğŸ‚',ï»¿
Â Â Â Â Â Â Â Â category: 'Viral Disease',ï»¿
Â Â Â Â Â Â Â Â short: 'Vesicles in mouth&feet, high morbidity',ï»¿
Â Â Â Â Â Â Â Â clinicalSigns: ['Fever','Vesicles on tongue, mouth, feet','Excessive salivation','Lameness','Sudden milk drop'],ï»¿
Â Â Â Â Â Â Â Â prevention: ['Vaccination programs','Restrict animal movement','Hygiene and disinfection'],ï»¿
Â Â Â Â Â Â Â Â precautions: ['Quarantine new animals','Separate infected animals','Proper disposal of contaminated materials'],ï»¿
Â Â Â Â Â Â Â Â definition: 'Highly contagious viral disease of cloven-hoofed animals caused by FMD virus (A, O, Asia1, etc.).',ï»¿
Â Â Â Â Â Â Â Â diagnosis: {field:['Vesicles and herd pattern'], lab:['ELISA','PCR','Virus isolation']},ï»¿
Â Â Â Â Â Â Â Â treatment: {note:'Supportive care', specific:['NSAIDs','Oral soothing agents','Antibiotics for secondary infections']},ï»¿
Â Â Â Â Â Â Â Â vaccination:['Serotype-specific vaccines','Frequent vaccination in endemic areas']ï»¿
Â Â Â Â Â Â },ï»¿

Â Â Â Â Â Â {ï»¿
Â Â Â Â Â Â Â Â id: 'rabies',ï»¿
Â Â Â Â Â Â Â Â name: 'Rabies',ï»¿
Â Â Â Â Â Â Â Â icon: 'ğŸ¦‡',ï»¿
Â Â Â Â Â Â Â Â category: 'Viral Zoonosis',ï»¿
Â Â Â Â Â Â Â Â short: 'Neurological signs, aggression, hydrophobia â€” fatal',ï»¿
Â Â Â Â Â Â Â Â clinicalSigns: ['Behavioral change','Aggression','Hypersalivation','Paralysis in later stages','Hydrophobia in some species'],ï»¿
Â Â Â Â Â Â Â Â prevention: ['Vaccinate dogs and livestock where indicated','Avoid contact with wild animals','Post-exposure prophylaxis for humans'],ï»¿
Â Â Â Â Â Â Â Â precautions: ['Isolate suspected animals','Do not handle suspect animals without protection','Report to authorities'],ï»¿
Â Â Â Â Â Â Â Â definition: 'Rabies is a fatal viral encephalitis caused by Lyssavirus, transmitted by bites/saliva.',ï»¿
Â Â Â Â Â Â Â Â diagnosis: {field:['History of bite + signs'], lab:['Direct fluorescent antibody on brain tissue','PCR postmortem']}ï»¿
Â Â Â Â Â Â },ï»¿

Â Â Â Â Â Â {ï»¿
Â Â Â Â Â Â Â Â id: 'prolapse',ï»¿
Â Â Â Â Â Â Â Â name: 'Uterine/Vaginal Prolapse',ï»¿
Â Â Â Â Â Â Â Â icon: 'ğŸ„',ï»¿
Â Â Â Â Â Â Â Â category: 'Obstetric / Physical',ï»¿
Â Â Â Â Â Â Â Â short: 'Externalized uterus/vagina postpartum â€” emergency',ï»¿
Â Â Â Â Â Â Â Â clinicalSigns: ['Visible prolapse of vagina or uterus','Difficulty walking','Shock signs if severe'],ï»¿
Â Â Â Â Â Â Â Â prevention: ['Proper nutrition','Avoid difficult traction','Manage calving assistance carefully'],ï»¿
Â Â Â Â Â Â Â Â treatment: {note:'Emergency â€” replacement or surgery', specific:['Clean and lubricate','Epidural if needed','Replace and purse-string or suture','Supportive fluids','Antibiotics']}ï»¿
Â Â Â Â Â Â }ï»¿
Â Â Â Â ];ï»¿

Â Â Â Â /***** LOCAL STORAGE KEYS *****/ï»¿
Â Â Â Â const KEY_PROFILE = 'js_profile';ï»¿
Â Â Â Â const KEY_STATS = 'js_stats_v1';ï»¿

Â Â Â Â /***** UTILITIES: local stats, visits *****/ï»¿
Â Â Â Â function loadStats() {ï»¿
Â Â Â Â Â Â try {ï»¿
Â Â Â Â Â Â Â Â const raw = localStorage.getItem(KEY_STATS);ï»¿
Â Â Â Â Â Â Â Â return raw ? JSON.parse(raw) : {visits:0,views:{}} ;ï»¿
Â Â Â Â Â Â } catch(e) { return {visits:0,views:{}}; }ï»¿
Â Â Â Â }ï»¿
Â Â Â Â function saveStats(s) { localStorage.setItem(KEY_STATS, JSON.stringify(s)); }ï»¿

Â Â Â Â function incVisit() {ï»¿
Â Â Â Â Â Â const s = loadStats();ï»¿
Â Â Â Â Â Â s.visits = (s.visits||0) + 1;ï»¿
Â Â Â Â Â Â saveStats(s);ï»¿
Â Â Â Â Â Â renderStats();ï»¿
Â Â Â Â }ï»¿
Â Â Â Â function incDiseaseView(id) {ï»¿
Â Â Â Â Â Â const s = loadStats();ï»¿
Â Â Â Â Â Â s.views = s.views || {};ï»¿
Â Â Â Â Â Â s.views[id] = (s.views[id]||0) + 1;ï»¿
Â Â Â Â Â Â saveStats(s);ï»¿
Â Â Â Â Â Â renderStats();ï»¿
Â Â Â Â }ï»¿

Â Â Â Â /***** PROFILE HANDLING *****/ï»¿
Â Â Â Â function loadProfile() {ï»¿
Â Â Â Â Â Â try {ï»¿
Â Â Â Â Â Â Â Â const raw = localStorage.getItem(KEY_PROFILE);ï»¿
Â Â Â Â Â Â Â Â return raw ? JSON.parse(raw) : null;ï»¿
Â Â Â Â Â Â } catch(e){ return null; }ï»¿
Â Â Â Â }ï»¿
Â Â Â Â function saveProfile(profile) {ï»¿
Â Â Â Â Â Â localStorage.setItem(KEY_PROFILE, JSON.stringify(profile));ï»¿
Â Â Â Â Â Â renderProfile();ï»¿
Â Â Â Â }ï»¿
Â Â Â Â function clearProfile() {ï»¿
Â Â Â Â Â Â localStorage.removeItem(KEY_PROFILE);ï»¿
Â Â Â Â Â Â renderProfile();ï»¿
Â Â Â Â }ï»¿

Â Â Â Â /***** UI RENDERING *****/ï»¿
Â Â Â Â const diseaseGrid = document.getElementById('diseaseGrid');ï»¿
Â Â Â Â const diseaseCountEl = document.getElementById('diseaseCount');ï»¿
Â Â Â Â const visitsCountEl = document.getElementById('visitsCount');ï»¿
Â Â Â Â const perDiseaseListEl = document.getElementById('perDiseaseList');ï»¿
Â Â Â Â const topDiseaseEl = document.getElementById('topDisease');ï»¿

Â Â Â Â function makeCardHtml(d) {ï»¿
Â Â Â Â Â Â const html = `ï»¿
Â Â Â Â Â Â Â Â <div class="disease-card" data-id="${d.id}" title="${d.short || ''}">ï»¿
Â Â Â Â Â Â Â Â Â Â <div class="icon">${d.icon || 'ğŸ©º'}</div>ï»¿
Â Â Â Â Â Â Â Â Â Â <h3>${d.name}</h3>ï»¿
Â Â Â Â Â Â Â Â Â Â <p>${d.short || d.category || ''}</p>ï»¿
Â Â Â Â Â Â Â Â </div>ï»¿
Â Â Â Â Â Â `;ï»¿
Â Â Â Â Â Â return html;ï»¿
Â Â Â Â }ï»¿

Â Â Â Â function renderCards(filter='') {ï»¿
Â Â Â Â Â Â diseaseGrid.innerHTML = '';ï»¿
Â Â Â Â Â Â const q = filter.trim().toLowerCase();ï»¿
Â Â Â Â Â Â let shown = 0;ï»¿
Â Â Â Â Â Â diseases.forEach(d => {ï»¿
Â Â Â Â Â Â Â Â // search by name or clinicalSignsï»¿
Â Â Â Â Â Â Â Â const byName = d.name.toLowerCase().includes(q);ï»¿
Â Â Â Â Â Â Â Â const byShort = (d.short||'').toLowerCase().includes(q);ï»¿
Â Â Â Â Â Â Â Â const bySign = (d.clinicalSigns || []).some(s => s.toLowerCase().includes(q));ï»¿
Â Â Â Â Â Â Â Â if(!q || byName || byShort || bySign) {ï»¿
Â Â Â Â Â Â Â Â Â Â diseaseGrid.insertAdjacentHTML('beforeend', makeCardHtml(d));ï»¿
Â Â Â Â Â Â Â Â Â Â shown++;ï»¿
Â Â Â Â Â Â Â Â }ï»¿
Â Â Â Â Â Â });ï»¿
Â Â Â Â Â Â diseaseCountEl.textContent = diseases.length;ï»¿
Â Â Â Â Â Â if(shown === 0) {ï»¿
Â Â Â Â Â Â Â Â diseaseGrid.innerHTML = '<div style="grid-column:1/-1;text-align:center;color:#64748b;padding:18px;border-radius:8px;background:#f8fafc">No diseases match your search.</div>';ï»¿
Â Â Â Â Â Â }ï»¿
Â Â Â Â Â Â attachCardListeners();ï»¿
Â Â Â Â }ï»¿

Â Â Â Â function attachCardListeners() {ï»¿
Â Â Â Â Â Â document.querySelectorAll('.disease-card').forEach(card => {ï»¿
Â Â Â Â Â Â Â Â card.onclick = () => {ï»¿
Â Â Â Â Â Â Â Â Â Â const id = card.getAttribute('data-id');ï»¿
Â Â Â Â Â Â Â Â Â Â showDetail(id);ï»¿
Â Â Â Â Â Â Â Â };ï»¿
Â Â Â Â Â Â });ï»¿
Â Â Â Â }ï»¿

Â Â Â Â // Build detail HTML for a disease (robustly handling missing fields)ï»¿
Â Â Â Â function buildDetailHtml(d) {ï»¿
Â Â Â Â Â Â const cs = (d.clinicalSigns||[]).map(i => `<li>${escapeHtml(i)}</li>`).join('');ï»¿
Â Â Â Â Â Â const prevention = (d.prevention||[]).map(i => `<li>${escapeHtml(i)}</li>`).join('');ï»¿
Â Â Â Â Â Â const precautions = (d.precautions||[]).map(i => `<li>${escapeHtml(i)}</li>`).join('');ï»¿
Â Â Â Â Â Â const herbal = (d.herbalTreatment||d.herbalAyurvedic||[]).map(i => `<li>${escapeHtml(i)}</li>`).join('');ï»¿
Â Â Â Â Â Â const diagnosisField = (d.diagnosis&&d.diagnosis.field) ? (d.diagnosis.field.map(i=>`<li>${escapeHtml(i)}</li>`).join('')) : '';ï»¿
Â Â Â Â Â Â const diagnosisLab = (d.diagnosis&&d.diagnosis.lab) ? (d.diagnosis.lab.map(i=>`<li>${escapeHtml(i)}</li>`).join('')) : '';ï»¿
Â Â Â Â Â Â const treatmentSpec = (d.treatment&&d.treatment.specific) ? (d.treatment.specific.map(i=>`<li>${escapeHtml(i)}</li>`).join('')) : '';ï»¿
Â Â Â Â Â Â const vaccination = (d.vaccination||[]).map(i=>`<li>${escapeHtml(i)}</li>`).join('');ï»¿
Â Â Â Â Â Â const caseStudy = d.caseStudy ? `<h4>Case Study</h4><p>${escapeHtml(d.caseStudy.history||'')}</p><p><strong>Outcome:</strong> ${escapeHtml(d.caseStudy.outcome || '')}</p>` : '';ï»¿

Â Â Â Â Â Â return `ï»¿
Â Â Â Â Â Â Â Â <div class="info-section">ï»¿
Â Â Â Â Â Â Â Â Â Â <h3>${d.icon || 'ğŸ©º'} ${d.name}</h3>ï»¿
Â Â Â Â Â Â Â Â Â Â ${d.definition ? `<p style="margin-top:8px">${escapeHtml(d.definition)}</p>` : ''}ï»¿
Â Â Â Â Â Â Â Â Â Â ${d.etiology ? `<h4>Etiology</h4><p>${escapeHtml(d.etiology)}</p>` : ''}ï»¿
Â Â Â Â Â Â Â Â Â Â ${cs ? `<h4>Clinical Signs</h4><ul>${cs}</ul>` : ''}ï»¿
Â Â Â Â Â Â Â Â Â Â ${diagnosisField || diagnosisLab ? `<h4>Diagnosis</h4>${diagnosisField ? `<strong>Field:</strong><ul>${diagnosisField}</ul>` : ''}${diagnosisLab ? `<strong>Laboratory:</strong><ul>${diagnosisLab}</ul>` : ''}` : ''}ï»¿
Â Â Â Â Â Â Â Â Â Â ${treatmentSpec ? `<h4>Treatment</h4><p>${escapeHtml(d.treatment.note || '')}</p><ul>${treatmentSpec}</ul>` : ''}ï»¿
Â Â Â Â Â Â Â Â Â Â ${herbal ? `<h4>Herbal / Supportive</h4><ul>${herbal}</ul>` : ''}ï»¿
Â Â Â Â Â Â Â Â Â Â ${prevention ? `<h4>Prevention&Control</h4><ul>${prevention}</ul>` : ''}ï»¿
Â Â Â Â Â Â Â Â Â Â ${precautions ? `<h4>Precautions</h4><ul>${precautions}</ul>` : ''}ï»¿
Â Â Â Â Â Â Â Â Â Â ${vaccination ? `<h4>Vaccination</h4><ul>${vaccination}</ul>` : ''}ï»¿
Â Â Â Â Â Â Â Â Â Â ${caseStudy}ï»¿
Â Â Â Â Â Â Â Â </div>ï»¿
Â Â Â Â Â Â `;ï»¿
Â Â Â Â }ï»¿

Â Â Â Â function showDetail(id) {ï»¿
Â Â Â Â Â Â const d = diseases.find(x => x.id === id);ï»¿
Â Â Â Â Â Â if(!d) return;ï»¿
Â Â Â Â Â Â document.getElementById('cardsView').style.display = 'none';ï»¿
Â Â Â Â Â Â document.getElementById('detailView').style.display = 'block';ï»¿
Â Â Â Â Â Â document.getElementById('diseaseDetailContainer').innerHTML = buildDetailHtml(d);ï»¿
Â Â Â Â Â Â incDiseaseView(id);ï»¿
Â Â Â Â Â Â // remember last viewedï»¿
Â Â Â Â Â Â localStorage.setItem('js_last_viewed', id);ï»¿
Â Â Â Â }ï»¿

Â Â Â Â document.getElementById('backBtn').addEventListener('click', () => {ï»¿
Â Â Â Â Â Â document.getElementById('detailView').style.display = 'none';ï»¿
Â Â Â Â Â Â document.getElementById('cardsView').style.display = 'block';ï»¿
Â Â Â Â });ï»¿

Â Â Â Â // search inputï»¿
Â Â Â Â document.getElementById('searchInput').addEventListener('input', (e) => {ï»¿
Â Â Â Â Â Â renderCards(e.target.value);ï»¿
Â Â Â Â });ï»¿

Â Â Â Â /***** PROFILE UI *****/ï»¿
Â Â Â Â function renderProfile() {ï»¿
Â Â Â Â Â Â const profile = loadProfile();ï»¿
Â Â Â Â Â Â const loginForm = document.getElementById('loginForm');ï»¿
Â Â Â Â Â Â const profileInfo = document.getElementById('profileInfo');ï»¿
Â Â Â Â Â Â if(profile) {ï»¿
Â Â Â Â Â Â Â Â loginForm.style.display = 'none';ï»¿
Â Â Â Â Â Â Â Â profileInfo.style.display = 'block';ï»¿
Â Â Â Â Â Â Â Â document.getElementById('profileName').textContent = profile.name;ï»¿
Â Â Â Â Â Â Â Â document.getElementById('profilePhone').textContent = profile.phone;ï»¿
Â Â Â Â Â Â Â Â const badge = document.getElementById('profileRoleBadge');ï»¿
Â Â Â Â Â Â Â Â badge.innerHTML = '';ï»¿
Â Â Â Â Â Â Â Â const b = document.createElement('span');ï»¿
Â Â Â Â Â Â Â Â b.className = 'user-badge ' + (profile.role === 'farmer' ? 'badge-farmer' : profile.role === 'student' ? 'badge-student' : 'badge-doctor');ï»¿
Â Â Â Â Â Â Â Â b.textContent = profile.role.charAt(0).toUpperCase() + profile.role.slice(1);ï»¿
Â Â Â Â Â Â Â Â badge.appendChild(b);ï»¿

Â Â Â Â Â Â Â Â // welcome area on topï»¿
Â Â Â Â Â Â Â Â document.getElementById('welcomeArea').style.display = 'block';ï»¿
Â Â Â Â Â Â Â Â document.getElementById('userNameText').textContent = profile.name;ï»¿
Â Â Â Â Â Â Â Â const ub = document.getElementById('userBadge');ï»¿
Â Â Â Â Â Â Â Â ub.className = 'user-badge ' + (profile.role === 'farmer' ? 'badge-farmer' : profile.role === 'student' ? 'badge-student' : 'badge-doctor');ï»¿
Â Â Â Â Â Â Â Â ub.textContent = profile.role.charAt(0).toUpperCase() + profile.role.slice(1);ï»¿
Â Â Â Â Â Â } else {ï»¿
Â Â Â Â Â Â Â Â loginForm.style.display = 'block';ï»¿
Â Â Â Â Â Â Â Â profileInfo.style.display = 'none';ï»¿
Â Â Â Â Â Â Â Â document.getElementById('welcomeArea').style.display = 'none';ï»¿
Â Â Â Â Â Â }ï»¿
Â Â Â Â }ï»¿

Â Â Â Â document.getElementById('loginBtn').addEventListener('click', () => {ï»¿
Â Â Â Â Â Â const name = document.getElementById('nameInput').value.trim();ï»¿
Â Â Â Â Â Â const phone = document.getElementById('phoneInput').value.trim();ï»¿
Â Â Â Â Â Â const role = document.getElementById('roleSelect').value;ï»¿
Â Â Â Â Â Â if(!name || !phone) {ï»¿
Â Â Â Â Â Â Â Â alert('Please enter name and phone.');ï»¿
Â Â Â Â Â Â Â Â return;ï»¿
Â Â Â Â Â Â }ï»¿
Â Â Â Â Â Â saveProfile({name, phone, role});ï»¿
Â Â Â Â });ï»¿

Â Â Â Â document.getElementById('clearBtn').addEventListener('click', () => {ï»¿
Â Â Â Â Â Â document.getElementById('nameInput').value = '';ï»¿
Â Â Â Â Â Â document.getElementById('phoneInput').value = '';ï»¿
Â Â Â Â });ï»¿

Â Â Â Â document.getElementById('logoutBtn').addEventListener('click', () => {ï»¿
Â Â Â Â Â Â if(confirm('Logout and remove profile from this device?')) {ï»¿
Â Â Â Â Â Â Â Â clearProfile();ï»¿
Â Â Â Â Â Â }ï»¿
Â Â Â Â });ï»¿

Â Â Â Â /***** STATS UI *****/ï»¿
Â Â Â Â function renderStats() {ï»¿
Â Â Â Â Â Â const s = loadStats();ï»¿
Â Â Â Â Â Â visitsCountEl.textContent = s.visits || 0;ï»¿
Â Â Â Â Â Â diseaseCountEl.textContent = diseases.length;ï»¿
Â Â Â Â Â Â // per disease listï»¿
Â Â Â Â Â Â const views = s.views || {};ï»¿
Â Â Â Â Â Â const rows = Object.keys(views).map(id => {ï»¿
Â Â Â Â Â Â Â Â const d = diseases.find(x => x.id === id);ï»¿
Â Â Â Â Â Â Â Â return {id, name: d ? d.name : id, cnt: views[id]};ï»¿
Â Â Â Â Â Â }).sort((a,b) => b.cnt - a.cnt);ï»¿
Â Â Â Â Â Â perDiseaseListEl.innerHTML = rows.length ? rows.map(r => `<div style="display:flex;justify-content:space-between;padding:6px 0;border-bottom:1px dashed #f1f5f9"><div style="font-size:14px">${escapeHtml(r.name)}</div><div style="font-weight:700">${r.cnt}</div></div>`).join('') : '<div style="color:#64748b">No disease views yet.</div>';ï»¿
Â Â Â Â Â Â topDiseaseEl.textContent = rows.length ? `Top: ${rows[0].name} (${rows[0].cnt})` : 'Top: â€”';ï»¿
Â Â Â Â }ï»¿

Â Â Â Â document.getElementById('exportBtn').addEventListener('click', () => {ï»¿
Â Â Â Â Â Â const data = JSON.stringify(diseases, null, 2);ï»¿
Â Â Â Â Â Â const blob = new Blob([data], {type:'application/json'});ï»¿
Â Â Â Â Â Â const url = URL.createObjectURL(blob);ï»¿
Â Â Â Â Â Â const a = document.createElement('a');ï»¿
Â Â Â Â Â Â a.href = url;ï»¿
Â Â Â Â Â Â a.download = 'jeevsanjeevani_diseases.json';ï»¿
Â Â Â Â Â Â document.body.appendChild(a);ï»¿
Â Â Â Â Â Â a.click();ï»¿
Â Â Â Â Â Â a.remove();ï»¿
Â Â Â Â Â Â URL.revokeObjectURL(url);ï»¿
Â Â Â Â });ï»¿

Â Â Â Â document.getElementById('resetStatsBtn').addEventListener('click', () => {ï»¿
Â Â Â Â Â Â if(confirm('Reset local stats (visits and views)?')) {ï»¿
Â Â Â Â Â Â Â Â localStorage.removeItem(KEY_STATS);ï»¿
Â Â Â Â Â Â Â Â renderStats();ï»¿
Â Â Â Â Â Â }ï»¿
Â Â Â Â });ï»¿

Â Â Â Â /***** BOOTSTRAP UI *****/ï»¿
Â Â Â Â function bootstrap() {ï»¿
Â Â Â Â Â Â // initial renderï»¿
Â Â Â Â Â Â renderCards();ï»¿
Â Â Â Â Â Â renderProfile();ï»¿
Â Â Â Â Â Â renderStats();ï»¿

Â Â Â Â Â Â // increment visit once per session (simple)ï»¿
Â Â Â Â Â Â if(!sessionStorage.getItem('js_visited_session')) {ï»¿
Â Â Â Â Â Â Â Â incVisit();ï»¿
Â Â Â Â Â Â Â Â sessionStorage.setItem('js_visited_session', '1');ï»¿
Â Â Â Â Â Â }ï»¿

Â Â Â Â Â Â // try to reopen last viewed diseaseï»¿
Â Â Â Â Â Â const last = localStorage.getItem('js_last_viewed');ï»¿
Â Â Â Â Â Â if(last) {ï»¿
Â Â Â Â Â Â Â Â // show small hint or reopen? we'll not force open; show hint in top actions (in future)ï»¿
Â Â Â Â Â Â }ï»¿

Â Â Â Â Â Â // attach click on dynamically created cards is handled in renderCardsï»¿
Â Â Â Â }ï»¿

Â Â Â Â /* small helper to escape html */ï»¿
Â Â Â Â function escapeHtml(unsafe) {ï»¿
Â Â Â Â Â Â if(!unsafe&&unsafe !== 0) return '';ï»¿
Â Â Â Â Â Â return String(unsafe)ï»¿
Â Â Â Â Â Â Â Â .replace(/&/g, "&amp;")ï»¿
Â Â Â Â Â Â Â Â .replace(/</g, "&lt;")ï»¿
Â Â Â Â Â Â Â Â .replace(/>/g, "&gt;")ï»¿
Â Â Â Â Â Â Â Â .replace(/"/g, "&quot;")ï»¿
Â Â Â Â Â Â Â Â .replace(/'/g, "&#039;");ï»¿
Â Â Â Â }ï»¿

Â Â Â Â // expose some functions for debugging in consoleï»¿
Â Â Â Â window.Jeev = {ï»¿
Â Â Â Â Â Â diseases,ï»¿
Â Â Â Â Â Â showDetail,ï»¿
Â Â Â Â Â Â renderCards,ï»¿
Â Â Â Â Â Â loadProfile,ï»¿
Â Â Â Â Â Â saveProfile,ï»¿
Â Â Â Â Â Â loadStats,ï»¿
Â Â Â Â Â Â incDiseaseViewï»¿
Â Â Â Â };ï»¿

Â Â Â Â // attach listeners for dynamic parts after DOM readyï»¿
Â Â Â Â document.addEventListener('DOMContentLoaded', bootstrap);ï»¿

Â Â Â Â // increment disease view when detail is opened by function showDetail (above) â€” already handledï»¿

Â Â </script>ï»¿
</body>ï»¿
</html>
